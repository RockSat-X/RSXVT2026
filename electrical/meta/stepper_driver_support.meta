#if TARGET_NAME_IS_SandboxNucleoH7S3L8
    #error Target 'SandboxNucleoH7S3L8' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_SandboxNucleoH533RE
    #error Target 'SandboxNucleoH533RE' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_DemoI2C
    #error Target 'DemoI2C' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_DemoTimer
    #error Target 'DemoTimer' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_DemoSPI
    #error Target 'DemoSPI' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_DemoTimekeeping
    #error Target 'DemoTimekeeping' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_DemoSDMMC
    #error Target 'DemoSDMMC' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_SensorShield
    #error Target 'SensorShield' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_MainFlightComputer
    #error Target 'MainFlightComputer' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_VehicleFlightComputer
    #error Target 'VehicleFlightComputer' defines no handle for the 'Stepper' driver.
#endif
#if TARGET_NAME_IS_DemoTMC2209
    enum StepperHandle : u32
    {
        StepperHandle_primary,
    };
    static constexpr u32 StepperHandle_COUNT = 1;
    #define TIMx_ TIM_
    static const struct { typeof(TIM15) TIMx; typeof(NVICInterrupt_TIM15) NVICInterrupt_TIMx; typeof(STPY_TIM15_DIVIDER) STPY_TIMx_DIVIDER; typeof((struct CMSISTuple) { &RCC->APB2ENR, CONCAT(RCC_, APB2ENR_TIM15EN_Pos), CONCAT(RCC_, APB2ENR_TIM15EN_Msk) }) TIMx_ENABLE; } Stepper_TABLE[] =
        {
            [StepperHandle_primary] = { .TIMx = TIM15, .NVICInterrupt_TIMx = NVICInterrupt_TIM15, .STPY_TIMx_DIVIDER = STPY_TIM15_DIVIDER, .TIMx_ENABLE = (struct CMSISTuple) { &RCC->APB2ENR, CONCAT(RCC_, APB2ENR_TIM15EN_Pos), CONCAT(RCC_, APB2ENR_TIM15EN_Msk) } },
        };
    static void
    _Stepper_driver_interrupt(enum StepperHandle handle);
    INTERRUPT_TIM15
    {
        _Stepper_driver_interrupt(StepperHandle_primary);
    }
#endif
#undef _EXPAND_HANDLE
#define _EXPAND_HANDLE\
    if (!(0 <= handle && handle < StepperHandle_COUNT))\
        panic;\
    auto const driver = &_Stepper_drivers[handle];\
    auto const TIMx = Stepper_TABLE[handle].TIMx;\
    auto const NVICInterrupt_TIMx = Stepper_TABLE[handle].NVICInterrupt_TIMx;\
    auto const STPY_TIMx_DIVIDER = Stepper_TABLE[handle].STPY_TIMx_DIVIDER;\
    auto const TIMx_ENABLE = Stepper_TABLE[handle].TIMx_ENABLE;\

